<div class="panel panel-white">
    <div class="panel-heading border-light">
        <h4 class="panel-title"><span class="text-bold">FILTROS PERSONALIZADOS</span></h4>

        <div class="panel-tools">
            <a href='#' class="btn btn-primary btn-o btn-sm"
               tooltip-placement='top' uib-tooltip="Adicionar"
               ng-click="addFilter()"><i class="fa fa-plus"></i></a>
        </div>
    </div>

    <div class="panel-body">
        <div class="row" ng-if="audit.filters.length > 0">
            <div class="col-md-5">
                <label>
                    Campo
                </label>
            </div>
            <div class="col-md-2">
                <label>
                    Criterio
                </label>
            </div>
            <div class="col-md-2">
                <label>
                    Valor
                </label>
            </div>
            <div class="col-md-2">
                <label>
                    Condición
                </label>
            </div>            
        </div>

        <div class="row" ng-repeat="filter in audit.filters">

            <div class="col-md-5">
                <div class="form-group">
                    <ui-select name="collection" ng-disabled="isView" ng-model="filter.field"
                               ng-required="true"
                               theme="bootstrap">
                        <ui-select-match placeholder="- Seleccionar -">
                            [[$select.selected.alias]]
                        </ui-select-match>
                        <ui-select-choices
                                repeat="item in audit.fields | filter: $select.search track by $index">
                            <div ng-bind-html="item.alias | highlight: $select.search"></div>

                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group">
                    <ui-select name="collection" ng-disabled="isView" ng-model="filter.criteria"
                               ng-required="true"
                               theme="bootstrap">
                        <ui-select-match placeholder="- Seleccionar -">
                            [[$select.selected.name]]
                        </ui-select-match>
                        <ui-select-choices
                                repeat="item in criteria | filter: $select.search track by $index">
                            <div ng-bind-html="item.name | highlight: $select.search"></div>

                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group">

                    <input type="text"
                           placeholder="Ingrese la valor"
                           class="form-control" name="license"
                           ng-model="filter.value"
                           ng-if="true"/>

                    <!-- <ui-select name="collection"
                               ng-disabled="isView"
                               ng-model="filter.value"
                               ng-required="true"
                               theme="bootstrap"
                               ng-if="false"/>
                               <ui-select-match placeholder="- Seleccionar -">
                            [[$select.selected.name]]
                        </ui-select-match>
                        <ui-select-choices
                                repeat="item in activeList | filter: $select.search track by $index">
                            <div ng-bind-html="item.name | highlight: $select.search"></div>

                        </ui-select-choices>
                    </ui-select>

                    <ui-select name="month"
                               ng-disabled="isView"
                               ng-model="filter.value"
                               ng-required="true"
                               theme="bootstrap"
                               ng-if="false"/>
                               <ui-select-match placeholder="- Seleccionar -">
                            [[$select.selected.name]]
                        </ui-select-match>
                        <ui-select-choices
                                repeat="item in months | filter: $select.search track by $index">
                            <div ng-bind-html="item.name | highlight: $select.search"></div>

                        </ui-select-choices>
                    </ui-select> -->
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group">
                    <ui-select name="collection" ng-disabled="isView" ng-model="filter.condition" ng-required="true" theme="bootstrap">
                        <ui-select-match placeholder="- Seleccionar -">
                            [[$select.selected.name]]
                        </ui-select-match>
                        <ui-select-choices repeat="item in conditions | filter: $select.search track by $index">
                            <div ng-bind-html="item.name | highlight: $select.search"></div>

                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>            

            <div class="col-md-1">
                <div class="pull-right">

                    <div class="form-group">
                        <a href='#' class="btn btn-danger btn-o btn-sm" tooltip-placement='top'
                           uib-tooltip="Eliminar"
                           ng-click="removeFilter($index)"><i class="fa fa-trash-o"></i></a>
                    </div>
                </div>
            </div>


        </div>

        <div class="row" ng-if="audit == null || audit.filters.length == 0">

            <div class="col-md-12">
                <div class="alert alert-info">
                    <strong>Atención!</strong>
                    Puede realizar busquedas avanzadas adicionando filtros
                </div>
            </div>

        </div>
    </div>
    <div class="panel-footer" ng-if="!audit.hideButtons">
        <div class="row">
            <div class="col-md-12">
                <div class="pull-right">
                    <button type="button" class="btn btn-info" ng-click="onFilter()" ng-show="audit.filters.length > 0">
                        Filtrar
                    </button>

                    <button type="button" class="btn btn-info btn-o" ng-click="onCleanFilter()" ng-show="audit.filters.length > 0">
                        Limpiar
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>