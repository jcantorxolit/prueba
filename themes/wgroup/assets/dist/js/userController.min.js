"use strict";app.controller("userMessagesCtrl",["$scope","$state","$rootScope","$http","$timeout",function(e,t,n,s,a){e.noAvatarImg="assets/images/default-user.png",e.filters=null,e.onLoad=function(){s({method:"POST",url:"api/user-message",headers:{"Content-Type":"application/x-www-form-urlencoded"}})["catch"](function(e){}).then(function(t){a(function(){e.messages=t.data.data})})["finally"](function(){})},e.onLoad()}]),app.controller("ViewMessageCrtl",["$scope","$stateParams","$http","$timeout",function(e,t,n,s){function a(e,t){for(var n=0,s=e.length;n<s;n+=1)if(e[n].id==t)return e[n]}e.onLoadRecord=function(){if(0!=t.inboxID){var a={id:t.inboxID};n({method:"GET",url:"api/user-message/get",params:a})["catch"](function(e){}).then(function(t){s(function(){e.message=t.data.result})})["finally"](function(){})}},e.messages&&e.messages.length>0?(e.message=a(e.messages,t.inboxID),e.message&&e.message.isReaded||e.onLoadRecord()):e.onLoadRecord()}]);